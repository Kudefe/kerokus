{"version":3,"sources":["../../server/controllers/editGame.js"],"names":["editGame","get","req","res","findById","params","id","err","games","render","post","game","title","body","author","query","_id","update","console","error","redirect","delete","remove","send"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,WAAW,EAAjB;;AAEAA,SAASC,GAAT,GAAe,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3B,uBAAKC,QAAL,CAAcF,IAAIG,MAAJ,CAAWC,EAAzB,EAA6B,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC3CL,QAAIM,MAAJ,CAAW,WAAX,EAAwB;AACtBD,aAAOA;AADe,KAAxB;AAGD,GAJD;AAKD,CAND;;AAQAR,SAASU,IAAT,GAAgB,UAACR,GAAD,EAAMC,GAAN,EAAc;AAC5B,MAAIQ,OAAO,EAAX;;AAEAA,OAAKC,KAAL,GAAaV,IAAIW,IAAJ,CAASD,KAAtB;AACAD,OAAKG,MAAL,GAAcZ,IAAIW,IAAJ,CAASC,MAAvB;AACAH,OAAKE,IAAL,GAAYX,IAAIW,IAAJ,CAASA,IAArB;;AAEA,MAAIE,QAAQ,EAACC,KAAId,IAAIG,MAAJ,CAAWC,EAAhB,EAAZ;;AAEA,uBAAKW,MAAL,CAAYF,KAAZ,EAAmBJ,IAAnB,EAAyB,UAACJ,GAAD,EAAS;AAChC,QAAIA,GAAJ,EAAS;AACPW,cAAQC,KAAR,CAAcZ,GAAd;AACD,KAFD,MAEO;AACLJ,UAAIiB,QAAJ,CAAa,QAAb;AACD;AACF,GAND;AAQD,CAjBD;;AAmBApB,SAASqB,MAAT,GAAkB,UAACnB,GAAD,EAAMC,GAAN,EAAc;AAC9B,MAAIY,QAAQ,EAACC,KAAId,IAAIG,MAAJ,CAAWC,EAAhB,EAAZ;;AAEA,uBAAKgB,MAAL,CAAYP,KAAZ,EAAmB,UAACR,GAAD,EAAS;AAC1B,QAAIA,GAAJ,EAAS;AACPW,cAAQC,KAAR,CAAcZ,GAAd;AACD,KAFD,MAEO;AACLJ,UAAIoB,IAAJ,CAAS,SAAT;AACD;AACF,GAND;AAOD,CAVD;;kBAaevB,Q","file":"editGame.js","sourcesContent":["import mongoose from 'mongoose'\r\nimport Game from './../models/entrevista'\r\n\r\nconst editGame = {}\r\n\r\neditGame.get = (req, res) => {\r\n  Game.findById(req.params.id, (err, games) => {\r\n    res.render('edit_game', {\r\n      games: games\r\n    })\r\n  })\r\n}\r\n\r\neditGame.post = (req, res) => {\r\n  let game = {}\r\n\r\n  game.title = req.body.title\r\n  game.author = req.body.author\r\n  game.body = req.body.body\r\n\r\n  let query = {_id:req.params.id}\r\n\r\n  Game.update(query, game, (err) => {\r\n    if (err) {\r\n      console.error(err);\r\n    } else {\r\n      res.redirect('/admin')\r\n    }\r\n  })\r\n  \r\n}\r\n\r\neditGame.delete = (req, res) => {\r\n  let query = {_id:req.params.id}\r\n\r\n  Game.remove(query, (err) => {\r\n    if (err) {\r\n      console.error(err);\r\n    } else {\r\n      res.send('Success')\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport default editGame\r\n"]}