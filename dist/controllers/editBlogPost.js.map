{"version":3,"sources":["../../server/controllers/editBlogPost.js"],"names":["editPost","get","req","res","findById","params","id","err","blogs","render","post","title","body","query","_id","update","flash","redirect","delete","remove","send"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,WAAW,EAAjB;;AAEAA,SAASC,GAAT,GAAe,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3B,qBAAKC,QAAL,CAAcF,IAAIG,MAAJ,CAAWC,EAAzB,EAA6B,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC3CL,QAAIM,MAAJ,CAAW,WAAX,EAAwB;AACtBD,aAAOA;AADe,KAAxB;AAGD,GAJD;AAKD,CAND;;AAQAR,SAASU,IAAT,GAAgB,UAACR,GAAD,EAAMC,GAAN,EAAc;AAC5B,MAAIO,OAAO,EAAX;;AAEAA,OAAKC,KAAL,GAAaT,IAAIU,IAAJ,CAASD,KAAtB;AACAD,OAAKE,IAAL,GAAYV,IAAIU,IAAJ,CAASA,IAArB;;AAEA,MAAIC,QAAQ,EAACC,KAAIZ,IAAIG,MAAJ,CAAWC,EAAhB,EAAZ;;AAEA,qBAAKS,MAAL,CAAYF,KAAZ,EAAmBH,IAAnB,EAAyB,UAACH,GAAD,EAAS;AAChC,QAAIA,GAAJ,EAAS;AACP,YAAMA,GAAN;AACD,KAFD,MAEO;AACLJ,UAAIa,KAAJ,CAAU,SAAV,EAAqB,YAArB;AACAb,UAAIc,QAAJ,CAAa,QAAb;AACD;AACF,GAPD;AAQD,CAhBD;;AAkBAjB,SAASkB,MAAT,GAAkB,UAAChB,GAAD,EAAMC,GAAN,EAAc;AAC9B,MAAIU,QAAQ,EAACC,KAAIZ,IAAIG,MAAJ,CAAWC,EAAhB,EAAZ;;AAEA,qBAAKa,MAAL,CAAYN,KAAZ,EAAmB,UAACN,GAAD,EAAS;AAC1B,QAAIA,GAAJ,EAAS;AACP,YAAMA,GAAN;AACD,KAFD,MAEO;AACLJ,UAAIiB,IAAJ,CAAS,SAAT;AACD;AACF,GAND;AAOD,CAVD;;kBAaepB,Q","file":"editBlogPost.js","sourcesContent":["import mongoose from 'mongoose'\r\nimport Blog from './../models/blogPost'\r\n\r\nconst editPost = {}\r\n\r\neditPost.get = (req, res) => {\r\n  Blog.findById(req.params.id, (err, blogs) => {\r\n    res.render('edit_post', {\r\n      blogs: blogs\r\n    })\r\n  })\r\n}\r\n\r\neditPost.post = (req, res) => {\r\n  let post = {}\r\n\r\n  post.title = req.body.title\r\n  post.body = req.body.body\r\n\r\n  let query = {_id:req.params.id}\r\n\r\n  Blog.update(query, post, (err) => {\r\n    if (err) {\r\n      throw err\r\n    } else {\r\n      res.flash(\"success\", \"Modificado\")\r\n      res.redirect('/admin')\r\n    }\r\n  })\r\n}\r\n\r\neditPost.delete = (req, res) => {\r\n  let query = {_id:req.params.id}\r\n\r\n  Blog.remove(query, (err) => {\r\n    if (err) {\r\n      throw err\r\n    } else {\r\n      res.send('Success')\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport default editPost\r\n"]}